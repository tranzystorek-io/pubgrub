<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trait that allows the algorithm to retrieve available packages and their dependencies. An implementor needs to be supplied to the [resolve] function."><meta name="keywords" content="rust, rustlang, rust-lang, DependencyProvider"><title>pubgrub::solver::DependencyProvider - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings"></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../pubgrub/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class="location">Trait DependencyProvider</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#required-methods">Required Methods</a><div class="sidebar-links"><a href="#tymethod.choose_package_version">choose_package_version</a><a href="#tymethod.get_dependencies">get_dependencies</a></div><a class="sidebar-title" href="#provided-methods">Provided Methods</a><div class="sidebar-links"><a href="#method.should_cancel">should_cancel</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class="location"><a href="../index.html">pubgrub</a>::<wbr><a href="index.html">solver</a></p><div id="sidebar-vars" data-name="DependencyProvider" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="../index.html">pubgrub</a>::<wbr><a href="index.html">solver</a>::<wbr><a class="trait" href="">DependencyProvider</a><button id="copy-path" onclick="copy_path(this)">⎘</button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/pubgrub/solver.rs.html#226-273" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait">pub trait DependencyProvider&lt;P:&nbsp;<a class="trait" href="../../pubgrub/package/trait.Package.html" title="trait pubgrub::package::Package">Package</a>, V:&nbsp;<a class="trait" href="../../pubgrub/version/trait.Version.html" title="trait pubgrub::version::Version">Version</a>&gt; {
    fn <a href="#tymethod.choose_package_version" class="fnname">choose_package_version</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;P&gt;, U:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="struct" href="../../pubgrub/range/struct.Range.html" title="struct pubgrub::range::Range">Range</a>&lt;V&gt;&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;potential_packages: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>T, U<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>T, <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;V&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.get_dependencies" class="fnname">get_dependencies</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;package: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>P, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>V<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="../../pubgrub/solver/enum.Dependencies.html" title="enum pubgrub::solver::Dependencies">Dependencies</a>&lt;P, V&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;;

    fn <a href="#method.should_cancel" class="fnname">should_cancel</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt; { ... }
}</pre></div><div class="docblock"><p>Trait that allows the algorithm to retrieve available packages and their dependencies.
An implementor needs to be supplied to the <a href="../../pubgrub/solver/fn.resolve.html" title="resolve">resolve</a> function.</p>
</div><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><h3 id="tymethod.choose_package_version" class="method"><code>fn <a href="#tymethod.choose_package_version" class="fnname">choose_package_version</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;P&gt;, U:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="struct" href="../../pubgrub/range/struct.Range.html" title="struct pubgrub::range::Range">Range</a>&lt;V&gt;&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;potential_packages: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>T, U<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>T, <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;V&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code><a class="srclink" href="../../src/pubgrub/solver.rs.html#252-255" title="goto source code">[src]</a></h3><div class="docblock"><p><a href="https://github.com/dart-lang/pub/blob/master/doc/solver.md#decision-making">Decision making</a>
is the process of choosing the next package
and version that will be appended to the partial solution.
Every time such a decision must be made,
potential valid packages and version ranges are preselected by the resolver,
and the dependency provider must choose.</p>
<p>The strategy employed to choose such package and version
cannot change the existence of a solution or not,
but can drastically change the performances of the solver,
or the properties of the solution.
The documentation of Pub (PubGrub implementation for the dart programming language)
states the following:</p>
<blockquote>
<p>Pub chooses the latest matching version of the package
with the fewest versions that match the outstanding constraint.
This tends to find conflicts earlier if any exist,
since these packages will run out of versions to try more quickly.
But there’s likely room for improvement in these heuristics.</p>
</blockquote>
<p>A helper function <a href="../../pubgrub/solver/fn.choose_package_with_fewest_versions.html" title="choose_package_with_fewest_versions">choose_package_with_fewest_versions</a> is provided to ease
implementations of this method if you can produce an iterator
of the available versions in preference order for any package.</p>
<p>Note: the type <code>T</code> ensures that this returns an item from the <code>packages</code> argument.</p>
</div><h3 id="tymethod.get_dependencies" class="method"><code>fn <a href="#tymethod.get_dependencies" class="fnname">get_dependencies</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;package: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>P, <br>&nbsp;&nbsp;&nbsp;&nbsp;version: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>V<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="../../pubgrub/solver/enum.Dependencies.html" title="enum pubgrub::solver::Dependencies">Dependencies</a>&lt;P, V&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code><a class="srclink" href="../../src/pubgrub/solver.rs.html#259-263" title="goto source code">[src]</a></h3><div class="docblock"><p>Retrieves the package dependencies.
Return <a href="../../pubgrub/solver/enum.Dependencies.html#variant.Unknown" title="Dependencies::Unknown">Dependencies::Unknown</a> if its dependencies are unknown.</p>
</div></div><span class="loading-content">Loading content...</span><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><h3 id="method.should_cancel" class="method"><code>fn <a href="#method.should_cancel" class="fnname">should_cancel</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code><a class="srclink" href="../../src/pubgrub/solver.rs.html#270-272" title="goto source code">[src]</a></h3><div class="docblock"><p>This is called fairly regularly during the resolution,
if it returns an Err then resolution will be terminated.
This is helpful if you want to add some form of early termination like a timeout,
or you want to add some form of user feedback if things are taking a while.
If not provided the resolver will run as long as needed.</p>
</div></div><span class="loading-content">Loading content...</span><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><h3 id="impl-DependencyProvider%3CP%2C%20V%3E" class="impl"><code class="in-band">impl&lt;P:&nbsp;<a class="trait" href="../../pubgrub/package/trait.Package.html" title="trait pubgrub::package::Package">Package</a>, V:&nbsp;<a class="trait" href="../../pubgrub/version/trait.Version.html" title="trait pubgrub::version::Version">Version</a>&gt; <a class="trait" href="../../pubgrub/solver/trait.DependencyProvider.html" title="trait pubgrub::solver::DependencyProvider">DependencyProvider</a>&lt;P, V&gt; for <a class="struct" href="../../pubgrub/solver/struct.OfflineDependencyProvider.html" title="struct pubgrub::solver::OfflineDependencyProvider">OfflineDependencyProvider</a>&lt;P, V&gt;</code><a href="#impl-DependencyProvider%3CP%2C%20V%3E" class="anchor"></a><a class="srclink" href="../../src/pubgrub/solver.rs.html#369-397" title="goto source code">[src]</a></h3><div class="docblock"><p>An implementation of <a href="../../pubgrub/solver/trait.DependencyProvider.html" title="DependencyProvider">DependencyProvider</a> that
contains all dependency information available in memory.
Packages are picked with the fewest versions contained in the constraints first.
Versions are picked with the newest versions first.</p>
</div><div class="impl-items"><h4 id="method.choose_package_version" class="method hidden trait-impl"><code>fn <a href="#tymethod.choose_package_version" class="fnname">choose_package_version</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;P&gt;, U:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="struct" href="../../pubgrub/range/struct.Range.html" title="struct pubgrub::range::Range">Range</a>&lt;V&gt;&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;potential_packages: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>T, U<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>T, <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;V&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code><a href="#method.choose_package_version" class="anchor"></a><a class="srclink" href="../../src/pubgrub/solver.rs.html#370-385" title="goto source code">[src]</a></h4><h4 id="method.get_dependencies" class="method hidden trait-impl"><code>fn <a href="#tymethod.get_dependencies" class="fnname">get_dependencies</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;package: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>P, <br>&nbsp;&nbsp;&nbsp;&nbsp;version: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>V<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="../../pubgrub/solver/enum.Dependencies.html" title="enum pubgrub::solver::Dependencies">Dependencies</a>&lt;P, V&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code><a href="#method.get_dependencies" class="anchor"></a><a class="srclink" href="../../src/pubgrub/solver.rs.html#387-396" title="goto source code">[src]</a></h4></div></div><span class="loading-content">Loading content...</span><script type="text/javascript" src="../../implementors/pubgrub/solver/trait.DependencyProvider.js" async></script></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="pubgrub" data-search-js="../../search-index.js"></div>
    <script src="../../main.js"></script></body></html>